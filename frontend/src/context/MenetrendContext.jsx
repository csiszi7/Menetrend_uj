import { useState, createContext, useEffect } from 'react';

export const MenetrendContext = createContext();

const MenetrendProvider = (props) => {
    const [viszonylatok, setViszonylatok] = useState([]);
    const [honnan, setHonnan] = useState('');
    const [hova, setHova] = useState('');

    const hon = localStorage.getItem('honnan');

    useEffect(() => {
        const visz = JSON.parse(localStorage.getItem('viszonylatok'));
        setViszonylatok(visz);
        const hon = JSON.parse(localStorage.getItem('honnan'));
        setHonnan(hon);
        const hov = JSON.parse(localStorage.getItem('hova'));
        setHova(hov);
    }, []);
    
    return (
        <MenetrendContext.Provider
            value={{
                viszonylatok,
                setViszonylatok,
                honnan,
                setHonnan,
                hova,
                setHova,
            }}
        >
            {props.children}
        </MenetrendContext.Provider>
    );
};

export default MenetrendProvider;
